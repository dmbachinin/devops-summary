# Dockerfile

- [Dockerfile](#dockerfile)
  - [Dockerfile основная информация](#dockerfile-основная-информация)
    - [Основные инструкции в Dockerfile](#основные-инструкции-в-dockerfile)

## Dockerfile основная информация

`Dockerfile` — это текстовый файл, который содержит инструкции для сборки образа Docker. Он используется для автоматизации процесса создания Docker-образа, описывая последовательность шагов, которые необходимо выполнить для настройки окружения, установки зависимостей и конфигурации приложения

Докер образы можно найти на сайте [DockerHub](https://hub.docker.com/)

**Основные цели Dockerfile:**

1. `Автоматизация создания образа`: Dockerfile позволяет автоматизировать процесс сборки образа контейнера. В нём прописываются все необходимые команды для установки нужных пакетов, зависимостей, копирования файлов и настройки приложения.
2. `Повторяемость`: Каждый раз, когда образ создается с помощью Dockerfile, процесс будет идентичен. Это обеспечивает консистентность окружения на разных машинах.
3. `Изоляция окружения`: С помощью Dockerfile можно создать контейнер, который будет содержать всё необходимое для работы приложения, независимо от окружения хост-машины.
4. `Удобство развёртывания`: При наличии Dockerfile вы можете легко запустить своё приложение на любой машине, поддерживающей Docker, просто создав и запустив контейнер.
**Dockerfile** — это текстовый файл, который содержит инструкции для сборки образа Docker. Он используется для автоматизации процесса создания Docker-образа, описывая последовательность шагов, которые необходимо выполнить для настройки окружения, установки зависимостей и конфигурации приложения.

### Основные инструкции в Dockerfile

```dockerfile
# Задает базовый образ, на основе которого будет строиться контейнер. Например, `FROM ubuntu` или `FROM node:14`
FROM node:14

# Указывает рабочую директорию внутри контейнера. Все последующие команды будут выполняться относительно этой директории. Создает директорию, если она не существует
WORKDIR /app

# Копирует файлы с хоста в контейнер. Например, `COPY . /app` копирует все файлы из текущей директории хоста в директорию `/app` в контейнере
COPY package*.json ./

# Выполняет команды внутри контейнера во время сборки образа. Например, `RUN apt-get update && apt-get install -y nginx` установит Nginx в контейнере
RUN npm install

# Копируем все файлы приложения в контейнер
COPY . .

# Указывает, какой порт должен быть открыт для работы контейнера, например, для веб-приложений
EXPOSE 3000

# Задает команду, которая будет выполнена при запуске контейнера
CMD ["npm", "start"]
```
